{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\fernossa\\\\Development\\\\routing-start\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\fernossa\\\\Development\\\\routing-start\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { ServersService } from '../servers.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../servers.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction EditServerComponent_h4_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1, \"youre not allowed to edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EditServerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"label\", 2);\n    i0.ɵɵtext(3, \"Server Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function EditServerComponent_div_1_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      var ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.serverName = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 1)(6, \"label\", 4);\n    i0.ɵɵtext(7, \"Server Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"select\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function EditServerComponent_div_1_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      var ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.serverStatus = $event;\n    });\n    i0.ɵɵelementStart(9, \"option\", 6);\n    i0.ɵɵtext(10, \"Online\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 7);\n    i0.ɵɵtext(12, \"Offline\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function EditServerComponent_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r4);\n      var ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onUpdateServer();\n    });\n    i0.ɵɵtext(14, \"Update Server\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"a\", null, 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.serverName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.serverStatus);\n  }\n}\n\nexport var EditServerComponent = /*#__PURE__*/(function () {\n  var EditServerComponent = /*#__PURE__*/function () {\n    function EditServerComponent(serversService, acRoute, router) {\n      _classCallCheck(this, EditServerComponent);\n\n      this.serversService = serversService;\n      this.acRoute = acRoute;\n      this.router = router;\n      this.serverName = '';\n      this.serverStatus = '';\n      this.allowEdit = false;\n      this.changeSaved = true;\n    }\n\n    _createClass(EditServerComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        console.log(this.acRoute.snapshot.queryParams); //console.log(this.acRoute.snapshot.fragment);\n\n        this.acRoute.queryParams.subscribe(function (queryParams) {\n          _this.allowEdit = queryParams['allowEdit'] === '1' ? true : false;\n        });\n        this.acRoute.fragment.subscribe();\n        var id = +this.acRoute.snapshot.params['id'];\n        this.server = this.serversService.getServer(id);\n        this.serverName = this.server.name;\n        this.serverStatus = this.server.status;\n      }\n    }, {\n      key: \"onUpdateServer\",\n      value: function onUpdateServer() {\n        //this.serversService.updateServer(this.server.id, {name: this.serverName, status: this.serverStatus});\n        this.changeSaved = true;\n        this.router.navigate(['../'], {\n          relativeTo: this.acRoute\n        });\n      }\n    }, {\n      key: \"canDeactivate\",\n      value: function canDeactivate() {\n        if (!this.allowEdit) {\n          return true;\n        }\n\n        if ((this.serverName !== this.server.name || this.serverStatus !== this.server.status) && !this.changeSaved) {\n          return confirm(\"do you want to discard the changes?\");\n        } else {\n          return true;\n        }\n      }\n    }]);\n\n    return EditServerComponent;\n  }();\n\n  EditServerComponent.ɵfac = function EditServerComponent_Factory(t) {\n    return new (t || EditServerComponent)(i0.ɵɵdirectiveInject(i1.ServersService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  EditServerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditServerComponent,\n    selectors: [[\"app-edit-server\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"status\"], [\"id\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"online\"], [\"value\", \"offline\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"loading\", \"\"]],\n    template: function EditServerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, EditServerComponent_h4_0_Template, 2, 0, \"h4\", 0);\n        i0.ɵɵtemplate(1, EditServerComponent_div_1_Template, 17, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.allowEdit);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.allowEdit);\n      }\n    },\n    directives: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.SelectControlValueAccessor, i4.NgSelectOption, i4.ɵNgSelectMultipleOption],\n    styles: [\"\"]\n  });\n  return EditServerComponent;\n})();","map":{"version":3,"sources":["C:/Users/fernossa/Development/routing-start/src/app/servers/edit-server/edit-server.component.ts"],"names":["ActivatedRoute","Params","Router","ServersService","i0","i1","i2","i3","i4","EditServerComponent_h4_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","EditServerComponent_div_1_Template","_r4","ɵɵgetCurrentView","ɵɵlistener","EditServerComponent_div_1_Template_input_ngModelChange_4_listener","$event","ɵɵrestoreView","ctx_r3","ɵɵnextContext","serverName","EditServerComponent_div_1_Template_select_ngModelChange_8_listener","ctx_r5","serverStatus","EditServerComponent_div_1_Template_button_click_13_listener","ctx_r6","onUpdateServer","ɵɵelement","ctx_r1","ɵɵadvance","ɵɵproperty","EditServerComponent","serversService","acRoute","router","allowEdit","changeSaved","console","log","snapshot","queryParams","subscribe","fragment","id","params","server","getServer","name","status","navigate","relativeTo","confirm","ɵfac","EditServerComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","EditServerComponent_Template","ɵɵtemplate","directives","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","SelectControlValueAccessor","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":"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","sourcesContent":["import { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { ServersService } from '../servers.service';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../servers.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/forms\";\r\nfunction EditServerComponent_h4_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"h4\");\r\n    i0.ɵɵtext(1, \"youre not allowed to edit\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction EditServerComponent_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"label\", 2);\r\n    i0.ɵɵtext(3, \"Server Name\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"input\", 3);\r\n    i0.ɵɵlistener(\"ngModelChange\", function EditServerComponent_div_1_Template_input_ngModelChange_4_listener($event) { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.serverName = $event; });\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(5, \"div\", 1)(6, \"label\", 4);\r\n    i0.ɵɵtext(7, \"Server Status\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"select\", 5);\r\n    i0.ɵɵlistener(\"ngModelChange\", function EditServerComponent_div_1_Template_select_ngModelChange_8_listener($event) { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.serverStatus = $event; });\r\n    i0.ɵɵelementStart(9, \"option\", 6);\r\n    i0.ɵɵtext(10, \"Online\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"option\", 7);\r\n    i0.ɵɵtext(12, \"Offline\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(13, \"button\", 8);\r\n    i0.ɵɵlistener(\"click\", function EditServerComponent_div_1_Template_button_click_13_listener() { i0.ɵɵrestoreView(_r4); const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.onUpdateServer(); });\r\n    i0.ɵɵtext(14, \"Update Server\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(15, \"a\", null, 9);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.serverName);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.serverStatus);\r\n} }\r\nexport class EditServerComponent {\r\n    constructor(serversService, acRoute, router) {\r\n        this.serversService = serversService;\r\n        this.acRoute = acRoute;\r\n        this.router = router;\r\n        this.serverName = '';\r\n        this.serverStatus = '';\r\n        this.allowEdit = false;\r\n        this.changeSaved = true;\r\n    }\r\n    ngOnInit() {\r\n        console.log(this.acRoute.snapshot.queryParams);\r\n        //console.log(this.acRoute.snapshot.fragment);\r\n        this.acRoute.queryParams.subscribe((queryParams) => {\r\n            this.allowEdit = queryParams['allowEdit'] === '1' ? true : false;\r\n        });\r\n        this.acRoute.fragment.subscribe();\r\n        const id = +this.acRoute.snapshot.params['id'];\r\n        this.server = this.serversService.getServer(id);\r\n        this.serverName = this.server.name;\r\n        this.serverStatus = this.server.status;\r\n    }\r\n    onUpdateServer() {\r\n        //this.serversService.updateServer(this.server.id, {name: this.serverName, status: this.serverStatus});\r\n        this.changeSaved = true;\r\n        this.router.navigate(['../'], { relativeTo: this.acRoute });\r\n    }\r\n    canDeactivate() {\r\n        if (!this.allowEdit) {\r\n            return true;\r\n        }\r\n        if ((this.serverName !== this.server.name || this.serverStatus !== this.server.status)\r\n            && !this.changeSaved) {\r\n            return confirm(\"do you want to discard the changes?\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    ;\r\n}\r\nEditServerComponent.ɵfac = function EditServerComponent_Factory(t) { return new (t || EditServerComponent)(i0.ɵɵdirectiveInject(i1.ServersService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router)); };\r\nEditServerComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EditServerComponent, selectors: [[\"app-edit-server\"]], decls: 2, vars: 2, consts: [[4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"status\"], [\"id\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"online\"], [\"value\", \"offline\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"loading\", \"\"]], template: function EditServerComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, EditServerComponent_h4_0_Template, 2, 0, \"h4\", 0);\r\n        i0.ɵɵtemplate(1, EditServerComponent_div_1_Template, 17, 2, \"div\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.allowEdit);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.allowEdit);\r\n    } }, directives: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.SelectControlValueAccessor, i4.NgSelectOption, i4.ɵNgSelectMultipleOption], styles: [\"\"] });\r\n"]},"metadata":{},"sourceType":"module"}